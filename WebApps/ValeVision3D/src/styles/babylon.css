/* =============================================================================
 * VALEVISION3D - BABYLON.JS CANVAS STYLES
 * =============================================================================
 *
 * FILE       : babylon.css
 * NAMESPACE  : ValeVision3D
 * MODULE     : Babylon.js Canvas Styles
 * AUTHOR     : Adam Noble - Noble Architecture
 * PURPOSE    : Specific styling for Babylon.js 3D canvas and rendering
 * CREATED    : 2025
 *
 * DESCRIPTION:
 * - Babylon.js canvas-specific styling
 * - Touch interaction optimization
 * - Full-screen 3D viewport configuration
 * - Performance-optimized rendering styles
 *
 * =============================================================================
 */

/* -----------------------------------------------------------------------------
 * REGION | Babylon.js Canvas Container
 * ----------------------------------------------------------------------------- */

    /* CANVAS CONTAINER | 3D Scene Viewport */
    /* ------------------------------------------------------------ */
    .vale-babylon-container {
        width                              : 100%;
        height                             : calc(100vh - var(--Vale_HeaderHeight));
        position                           : relative;
        overflow                           : hidden;
        background-color                   : var(--Vale_BackgroundCanvas);
        touch-action                       : none;                         /* <-- Disable default touch behaviors */
        user-select                        : none;                         /* <-- Prevent text selection */
        -webkit-user-select                : none;
        -moz-user-select                   : none;
        -ms-user-select                    : none;
    }

    .vale-babylon-canvas {
        width                              : 100%;
        height                             : 100%;
        display                            : block;
        outline                            : none;
        touch-action                       : none;
        cursor                             : grab;
    }

    .vale-babylon-canvas:active {
        cursor                             : grabbing;
    }
    /* ------------------------------------------------------------ */

/* endregion ------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * REGION | Touch Interaction Optimizations
 * ----------------------------------------------------------------------------- */

    /* TOUCH OPTIMIZATION | Tablet and Mobile Gestures */
    /* ------------------------------------------------------------ */
    .vale-babylon-container * {
        -webkit-tap-highlight-color        : transparent;                  /* <-- Remove tap highlight on iOS */
        -webkit-touch-callout              : none;                         /* <-- Disable callout on iOS */
    }

    /* PREVENT OVERSCROLL | Stop rubber-band scrolling */
    /* ------------------------------------------------------------ */
    body.babylon-active {
        overflow                           : hidden;
        position                           : fixed;
        width                              : 100%;
        height                             : 100%;
    }
    /* ------------------------------------------------------------ */

/* endregion ------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * REGION | Loading and Performance Indicators
 * ----------------------------------------------------------------------------- */

    /* CANVAS LOADING STATE | Visual Feedback During Model Load */
    /* ------------------------------------------------------------ */
    .vale-babylon-container.loading {
        background                         : var(--Vale_BackgroundCanvas);
        position                           : relative;
    }

    .vale-babylon-container.loading::after {
        content                            : '';
        position                           : absolute;
        top                                : 50%;
        left                               : 50%;
        transform                          : translate(-50%, -50%);
        width                              : 40px;
        height                             : 40px;
        border                             : 3px solid rgba(255, 255, 255, 0.2);
        border-top-color                   : var(--Vale_TextLight);
        border-radius                      : 50%;
        animation                          : spin 1s linear infinite;
    }
    /* ------------------------------------------------------------ */

/* endregion ------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * REGION | Babylon.js GUI Overlay Adjustments
 * ----------------------------------------------------------------------------- */

    /* BABYLON GUI | Advanced Dynamic Texture Overlays */
    /* ------------------------------------------------------------ */
    .babylon-gui-overlay {
        pointer-events                     : none;                         /* <-- Allow clicks to pass through */
        z-index                            : var(--Vale_ZIndex_Controls);
    }

    .babylon-gui-overlay.interactive {
        pointer-events                     : auto;                         /* <-- Enable interaction when needed */
    }
    /* ------------------------------------------------------------ */

/* endregion ------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * REGION | Responsive Canvas Adjustments
 * ----------------------------------------------------------------------------- */

    /* MOBILE CANVAS | Adjustments for Small Screens */
    /* ------------------------------------------------------------ */
    @media (max-width: 767px) {
        .vale-babylon-container {
            height                         : calc(100vh - var(--Vale_HeaderHeight_Mobile));
        }
    }
    /* ------------------------------------------------------------ */

    /* TABLET LANDSCAPE | Optimized for Landscape Orientation */
    /* ------------------------------------------------------------ */
    @media (min-width: 768px) and (max-width: 1023px) and (orientation: landscape) {
        .vale-babylon-container {
            height                         : calc(100vh - var(--Vale_HeaderHeight));
        }
    }
    /* ------------------------------------------------------------ */

/* endregion ------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * REGION | Performance and Hardware Acceleration
 * ----------------------------------------------------------------------------- */

    /* PERFORMANCE OPTIMIZATION | GPU Acceleration Hints */
    /* ------------------------------------------------------------ */
    .vale-babylon-canvas {
        will-change                        : transform;                    /* <-- Hint for GPU acceleration */
        transform                          : translateZ(0);                /* <-- Force GPU layer */
        backface-visibility                : hidden;                       /* <-- Optimize rendering */
    }
    /* ------------------------------------------------------------ */

/* endregion ------------------------------------------------------------------- */

